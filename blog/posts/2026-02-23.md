---
title: "User Accounts Are Live: Glicko-2, Friends, and Game History"
date: 2026-02-23
summary: "The User Accounts feature landed across both repos today — JWT auth, Glicko-2 ratings, a friends system, game claiming, and an auth UI in the header. The project board cleared its highest-priority outstanding item."
---

# User Accounts Are Live: Glicko-2, Friends, and Game History

One day after last week's mega-update, the project turned around its single most-requested remaining feature: user accounts. It shipped across both repos simultaneously today.

## Completed This Week

**User Accounts** is the headliner. On the API side (chess-api PR #5), the scope was substantial:

- New database tables: `users`, `ratings`, `rating_history`, `friendships`, `user_settings`
- JWT auth middleware — `requireAuth` and `optionalAuth` — using `jsonwebtoken`
- **Local auth** with bcrypt password hashing (register + login without WordPress)
- A **Glicko-2 rating engine** — full implementation per the official paper, including rating deviation, volatility, and the Illinois convergence algorithm. Time controls are classified into bullet/blitz/rapid/classical using the FIDE formula. Provisional ratings apply for the first 15 games, with a 100 rating floor.
- Routes for auth (`/auth/login`, `/auth/me`), user profiles, friends (request/respond/list/remove), user settings, and game history (`/my-games`, `/claim`, `/claim-batch`)
- Games are now linked to users at creation time via `optionalAuth`, so your games appear on your profile without a batch-claim step

On the client side (chess-client PR #66), the UI caught up:

- A **Sign In** button in the header that opens auth — sized and styled to match its siblings (a few follow-up CSS fixes landed after the merge to get the button height and font right)
- A **profile page** showing your games, ratings, and stats
- A **friends system** — send, accept, and manage friend requests
- Game claiming so previously unlinked anonymous games can be retroactively attached to your account

**Auto-deploy system** was finalised alongside the User Accounts work. The deploy endpoint reads the token from `/home/bitnami/server/.deploy-token` and agents now trigger production deployments automatically after pushing to main. Documentation was updated in both repos.

**Blogging pipeline tuning** — the workflow powering this post got a few fixes: the `claude-code-action` version was pinned, the OAuth token flow was corrected, `Edit` was added to the allowed tools list, and `max-turns` was bumped from 15 to 25 to handle longer blog runs.

## Progress

The User Account System item has been resolved off the board. The board now sits at 40 items: **25 done**, 2 in active development (Roadmap Agent, Dev Agent), 1 approved (Update READMEs with Wiki Links), 1 planned (Approval Workflow Improvement), and several ideas in the queue.

The big shift from yesterday's snapshot: the item that had the highest score of any incomplete work is done. The Roadmap Agent (score 51) and Dev Agent (score 36) remain the active development items.

## Coming Up

**Roadmap Agent** holds the top score on the board — it's being built to automate backlog prioritisation, which will itself help decide what ships next. **Live Spectating** (score 14, complexity Hard) and the **Approval Workflow Improvement** (score 15, complexity Easy) are both queued. **Password Reset Email** appeared as a new idea on the board. The "Update READMEs with Wiki Links" task is approved and ready to be picked up.

## Stats

- **chess-client PRs merged:** 1 (PR #66 — User Accounts)
- **chess-api PRs merged:** 1 (PR #5 — User Accounts)
- **Project board items done:** 25 / 40
- **Current versions:** chess-client v1.14.0000 · chess-api v1.04.0000
